(this["webpackJsonpalquiler-vehiculos"]=this["webpackJsonpalquiler-vehiculos"]||[]).push([[0],{40:function(e,a,t){},41:function(e,a,t){},46:function(e,a,t){"use strict";t.r(a);var c=t(1),n=t(0),r=t(14),s=t.n(r),i=(t(40),t(22)),o=t(31),l=t(11),j=(t(41),t(32)),d=t(30),h=t(10),b=t(15),u=t(20),O=t(33),m=t(34),p=function(e){var a=e.carro,t=e.handleSelected;return Object(c.jsx)("div",{className:"col-md-4 text-center my-2",children:Object(c.jsxs)(m.a,{className:"bg-light",children:[Object(c.jsx)("img",{src:a.imagen,className:"card-img-top img-fluid p-2",alt:"Imagen del carro"}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"card-title",children:a.nombre}),Object(c.jsxs)("p",{children:["Precio por dia: $",a.precioPorDia]}),Object(c.jsxs)("p",{children:["Pasajeros: ",a.pasajeros]}),Object(c.jsxs)("p",{children:["Puertas: ",a.puertas]}),Object(c.jsxs)("p",{children:["Transmisi\xf3n: ",a.transmision]}),Object(c.jsx)(b.a,{onClick:t(a.id),className:"btn btn-primary",children:"Alquilar"})]})]})},a.id)},x=function(e){var a=e.selected,t=e.fechaInicioRenta,n=e.handleFechaInicioRenta,r=e.fechaHoy,s=e.fechaFinRenta,i=e.handleFechaFinRenta,o=e.diasRenta,l=e.handleIntentoAlquiler;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{children:["Modelo: ",a.nombre]}),Object(c.jsxs)("p",{children:["Precio por dia: $",a.precioPorDia]}),Object(c.jsxs)("p",{children:["Pasajeros: ",a.pasajeros]}),Object(c.jsxs)("p",{children:["Puertas: ",a.puertas]}),Object(c.jsxs)("p",{children:["Transmisi\xf3n: ",a.transmision]}),Object(c.jsxs)("form",{children:[Object(c.jsxs)("label",{children:["Inicio de la renta:",Object(c.jsx)("input",{type:"date",value:t,onChange:n,min:r,required:!0})]}),Object(c.jsxs)("label",{children:["Fin de la renta:",Object(c.jsx)("input",{type:"date",value:s,onChange:i,min:r,required:!0})]}),Object(c.jsxs)("p",{children:["D\xedas de renta: ",o]}),Object(c.jsxs)("p",{children:["Costo de renta: $",o*a.precioPorDia]}),Object(c.jsx)(b.a,{variant:"primary",onClick:l,children:"Rentar"})]})]})},f=[{id:1,precioPorDia:5,nombre:"Hyundai Accent",pasajeros:4,puertas:4,transmision:"Automatica",imagen:"./img/hyundai_accent.png",fechasRentadas:[]},{id:2,precioPorDia:4,nombre:"Toyota Yaris",pasajeros:5,puertas:4,transmision:"Automatica",imagen:"./img/toyota_yaris.png",fechasRentadas:[]},{id:3,precioPorDia:6,nombre:"Kia Rio",pasajeros:5,puertas:4,transmision:"Automatica",imagen:"./img/kia_rio.png",fechasRentadas:[]},{id:4,precioPorDia:5,nombre:"Kia Picanto",pasajeros:2,puertas:2,transmision:"Automatica",imagen:"./img/kia_picanto.png",fechasRentadas:[]},{id:5,precioPorDia:4,nombre:"Nissan Almera",pasajeros:5,puertas:4,transmision:"Automatica",imagen:"./img/nissan_almera.png",fechasRentadas:[]},{id:6,precioPorDia:6,nombre:"Hyundai i10",pasajeros:5,puertas:4,transmision:"Automatica",imagen:"./img/hyundai_i10.png",fechasRentadas:[]}],g=(new Date).toISOString().slice(0,10);function v(e,a){var t=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),c=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate());return Math.floor((c-t)/864e5)}var D=function(){var e,a=Object(n.useState)(!1),t=Object(l.a)(a,2),r=t[0],s=t[1],m=Object(n.useState)(!1),D=Object(l.a)(m,2),y=D[0],R=D[1],P=Object(n.useState)(f[0]),F=Object(l.a)(P,2),S=F[0],N=F[1],w=Object(n.useState)(f),A=Object(l.a)(w,2),C=A[0],I=A[1],q=Object(n.useState)(g),H=Object(l.a)(q,2),k=H[0],T=H[1],_=Object(n.useState)(g),B=Object(l.a)(_,2),M=B[0],$=B[1],Y=Object(n.useState)(1),J=Object(l.a)(Y,2),K=J[0],L=J[1],U=Object(n.useState)(!1),E=Object(l.a)(U,2),V=E[0],z=E[1],G=Object(n.useState)(!1),Q=Object(l.a)(G,2),W=Q[0],X=Q[1],Z=Object(n.useState)([]),ee=Object(l.a)(Z,2),ae=ee[0],te=ee[1],ce=function(){return s(!1)},ne=function(){return R(!1)},re=function(e){return function(){var a=C.find((function(a){return a.id===e}));T(g),$(g),L(1),N(a),z(!1),s(!0)}};return e=W?Object(c.jsxs)(u.a,{className:"alert-success",role:"alert",children:[Object(c.jsx)(u.a.Heading,{children:"\xa1Su reserva fue exitosa!"}),Object(c.jsxs)("p",{children:["Su reserva del ",S.nombre," ha sido completada."]}),Object(c.jsxs)("p",{children:["Fechas de reserva: ",k," al ",M]}),Object(c.jsxs)("p",{children:["Costo total: $",S.precioPorDia*K]})]}):Object(c.jsxs)(u.a,{className:"alert-danger",role:"alert",children:[Object(c.jsx)(u.a.Heading,{children:"Hubo un problema en su reserva"}),Object(c.jsxs)("p",{children:["No pudimos completar su reserva del ",S.nombre]}),Object(c.jsxs)("p",{children:["Para las fechas del ",k," al ",M," este carro se encuentra alquilado."]})]}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(j.a,{children:[Object(c.jsx)("h1",{className:"header",children:"Alquiler de Veh\xedculos"}),Object(c.jsx)(d.a,{className:"justify-content-center",children:Object(c.jsx)(b.a,{onClick:function(){R(!0)},className:"text-center",children:"Mostrar Historial"})}),Object(c.jsx)(d.a,{children:C.map((function(e){return Object(c.jsx)(p,{carro:e,handleSelected:re},e.id)}))})]}),Object(c.jsxs)(h.a,{show:r,onHide:ce,className:"rent-modal",children:[Object(c.jsx)(h.a.Header,{closeButton:!0,children:Object(c.jsxs)(h.a.Title,{children:["Alquilar ",S.nombre]})}),Object(c.jsx)(h.a.Body,{children:V?e:Object(c.jsx)(x,{selected:S,fechaHoy:g,fechaInicioRenta:k,handleFechaInicioRenta:function(e){var a=new Date(e.target.value),t=new Date(M);a>t?alert("La fecha es invalida"):(L(v(a,t)+1),T(e.target.value))},fechaFinRenta:M,handleFechaFinRenta:function(e){var a=new Date(k),t=new Date(e.target.value);a>t?alert("La fecha es invalida"):(L(v(a,t)+1),$(e.target.value))},diasRenta:K,handleIntentoAlquiler:function(){if(new Date(k)<=new Date(M)){var e,a=function(e,a){for(var t=new Date(e),c=new Date(a),n=[],r=new Date(t);r<=c;r.setDate(r.getDate()+1))n.push(new Date(r));return n.map((function(e){return e.toISOString().slice(0,10)}))}(k,M),t=!0,c=Object(o.a)(a);try{for(c.s();!(e=c.n()).done;){var n=e.value;if(S.fechasRentadas.includes(n)){t=!1;break}}}catch(l){c.e(l)}finally{c.f()}if(t){var r=Object(i.a)(Object(i.a)({},S),{},{fechasRentadas:a});I(C.map((function(e){return e.id===S.id?Object(i.a)(Object(i.a)({},e),r):e})));var s={id:S.id,nombre:S.nombre,costo:S.precioPorDia*K,fechaInicio:k,fechaFin:M};te(ae.concat(s)),X(!0),z(!0)}else X(!1),z(!0)}else X(!1),z(!0)}})}),Object(c.jsx)(h.a.Footer,{children:Object(c.jsx)(b.a,{variant:"secondary",onClick:ce,children:"Close"})})]}),Object(c.jsxs)(h.a,{show:y,onHide:ne,className:"rent-modal",children:[Object(c.jsx)(h.a.Header,{closeButton:!0,children:Object(c.jsx)(h.a.Title,{children:"Historial de Alquiler"})}),Object(c.jsx)(h.a.Body,{children:ae.length>0?Object(c.jsxs)(O.a,{className:"table-bordered",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Carro"}),Object(c.jsx)("th",{scope:"col",children:"Inicio del Alquiler"}),Object(c.jsx)("th",{scope:"col",children:"Fin del Alquiler"}),Object(c.jsx)("th",{scope:"col",children:"Costo Total"})]})}),Object(c.jsx)("tbody",{children:ae.map((function(e,a){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"row",children:e.nombre}),Object(c.jsx)("td",{children:e.fechaInicio}),Object(c.jsx)("td",{children:e.fechaFin}),Object(c.jsxs)("td",{children:["$",e.costo]})]},a)}))})]}):Object(c.jsx)(u.a,{className:"alert-info",children:"Intenta alquilar alg\xfan veh\xedculo."})}),Object(c.jsx)(h.a.Footer,{children:Object(c.jsx)(b.a,{variant:"secondary",onClick:ne,children:"Close"})})]})]})};t(45);s.a.render(Object(c.jsx)(D,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.2d6184e5.chunk.js.map